# cloud-yblog

<p align=center>
  <a href="#">
    <img src="https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/bloglogo.jpg" alt="cloud-yblog" style="width:200px;height:200px">
  </a>
</p>
<p align=center>
   cloud-yblogæ˜¯yblogçš„å¾®æœåŠ¡ç‰ˆæœ¬ï¼Œæ˜¯ä¸€ä¸ªåŸºäºSpringCloudåˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„å¼€å‘çš„åšå®¢ç³»ç»Ÿ
</p>

<p align=center>
<img src="https://img.shields.io/badge/JDK-1.8+-green.svg"/>
<img src="https://img.shields.io/badge/springboot-2.3.2.RELEASE-green"/>
<img src="https://img.shields.io/badge/SpringCloud-Hoxton.SR8-brightgreen"/>
<img src="https://img.shields.io/badge/SpringCloud alibaba-2.2.3.RELEASE-brightgreen"/>
</p>

 &emsp;&emsp;cloud-yblogæ˜¯åŸºäºSpringCloud+springCloud alibabaåˆ†å¸ƒå¼å¾®æœåŠ¡æ¡†æ¶å¼€å‘çš„åšå®¢ï¼š**åšæ–‡ç®¡ç†**ã€**ç»Ÿè®¡å›¾è¡¨**ã€**æ¥å£ç›‘æ§**ã€**è®¿é—®è®°å½•**ã€**é™„ä»¶ç®¡ç†**ã€**ç”¨æˆ·ç®¡ç†**ã€**å‹é“¾ç®¡ç†**ã€**ç›‘æ§ç®¡ç†**ã€**æŠ“å–åšæ–‡**ï¼Œä»¥åŠ**ç¬¬ä¸‰æ–¹ç™»å½•**ç­‰åŠŸèƒ½ï¼Œä¸”ä¸€ç›´ä¼šå¯¹æœ¬é¡¹ç›®è¿›è¡ŒåŠ å¼ºï¼Œè¯·å„ä½å¤§ä½¬å¤šå¤šæŒ‡ç‚¹ï¼Œä¸€èµ·å…±åŒè¿›æ­¥ã€‚
æ–‡ç« æ— éœ€è‡ªå·±å†™ï¼Œå¯ä»¥ä½¿ç”¨ä½œè€…è‡ªå·±ç¼–å†™çš„å…¨è‡ªåŠ¨çˆ¬è™«å·¥å…·å³å¯ï¼Œåªéœ€è½»è½»ä¸€ç‚¹ï¼Œä¸‡åƒæ–‡ç« åˆ°æ‰‹ã€‚

### SpringBootç‰ˆçš„yblogä»“åº“åœ°å€
GitHub: https://github.com/youzhengjie9/yblog <br/>
Gitee: https://gitee.com/youzhengjie/springBootBlog


### cloud-yblogçš„æ¶æ„å›¾

<p align=center>
  <a href="#">
    <img src="https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/jiagou.png" alt="cloud-yblog-jiagou" style="width:200px;height:200px">
  </a>
</p>

### å¼€å‘ç¯å¢ƒ

| ç±»åˆ«                |   åç§°     |   
| -----------------   | -------  |
| ç¼–è¯‘å™¨          |    IntelliJ IDEA   |
| ç³»ç»Ÿ1             |   Windows 10   |
| ç³»ç»Ÿ2               |   CentOS 7   |
| CPU              |    Intel i5-9300H   |
| å†…å­˜                |    24GB         |

* æ³¨ï¼šç‰¹åˆ«æ˜¯å†…å­˜éœ€è¦>=16GBæ‰èƒ½è¿è¡Œ,å¦‚æœä¸è¶³16GB,å¯ä»¥æŠŠå„æœåŠ¡çš„é›†ç¾¤å˜æˆå•ä½“æœåŠ¡å³å¯ï¼Œå¦‚ä¸æƒ³å…³é—­é›†ç¾¤ï¼Œåˆ™éœ€è¦å¤§å†…å­˜æ”¯æ’‘ã€‚


### ç‰ˆæœ¬å¯¹åº”
| åç§°                | ç‰ˆæœ¬    |
| -------------      | -------------  |
| Spring Boot             | 2.3.2.RELEASE      | 
| Spring Cloud            | Hoxton.SR8      | 
| Spring Cloud Alibaba    | 2.2.3.RELEASE   |
| Nacos                  | 1.4.1      |
| Sentinel               | 1.8.0     |
| Seata                  | 1.3.0      |    
| ZipKin                |  2.12.9       |
| elasticSearch         |  7.6.1             |
| Kibana               |   7.6.1         |
| MySQL                  |  5.7            |

* å‰©ä¸‹çš„ç‰ˆæœ¬å¯ä»¥éšæ„ï¼Œä¸Šé¢å†™å‡ºæ¥çš„ç‰ˆæœ¬è¦ä¸¥æ ¼å¯¹åº”ï¼Œä¸ç„¶æ€•ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜ï¼ï¼ï¼

### æŠ€æœ¯æ ˆ
#### åç«¯

| åç§°                | å®˜ç½‘                                                         |
| -----------------   | ------------------------------------------------------------ |
| Spring Boot             | https://spring.io/projects/spring-boot               | 
| Spring Cloud        |     https://spring.io/projects/spring-cloud                    |
| Spring Cloud Alibaba     |  https://spring.io/projects/spring-cloud-alibaba                       |
| Nacos      |     https://nacos.io/zh-cn/                    |
| Seata        |   http://seata.io/zh-cn/                      |
| Sentinel     |   https://github.com/alibaba/Sentinel                      |
| ZipKin            |    https://zipkin.io/                                            |
| Redis             | http://www.redis.cn/               | 
| RabbitMQ                   |  https://www.rabbitmq.com/                                  |
| elasticSearch           |    https://www.elastic.co/cn/elasticsearch/                  |
| Kibana               |   https://www.elastic.co/cn/kibana/        |
| MyBatis             | http://www.mybatis.org/mybatis-3/zh/index.html               |         
| Spring Security        | https://spring.io/projects/spring-security/                                   |
| PageHelper         | http://git.oschina.net/free/Mybatis_PageHelper               |
| Maven              | http://maven.apache.org/                                     |
| MySQL              | https://www.mysql.com/                                       |                                  |
| Swagger2                  | https://swagger.io/               |
| Druid                       |    https://github.com/alibaba/druid                    |
| fastjson                          |   https://github.com/alibaba/fastjson/                |
| sjf4j                     |   http://www.slf4j.org/  |
| thumbnailator                         |   https://github.com/coobird/thumbnailator                   |
| Nginx                       |     http://nginx.org/en/download.html
#### å‰ç«¯

| åç§°            | æè¿°       | å®˜ç½‘                                                     |
| --------------- | ---------- | -------------------------------------------------------- |
| jQuery          | å‡½æ•°åº“     | http://jquery.com/                                       |
| Bootstrap       | å‰ç«¯æ¡†æ¶   | https://v3.bootcss.com/                                |
| echarts         | å¯è§†åŒ–å›¾è¡¨åº“       | https://echarts.apache.org/zh/index.html        |                        |                             |
| Thymeleaf     | æ¨¡æ¿å¼•æ“                | https://www.thymeleaf.org/      |
| TinyMCE        |  å¯Œæ–‡æœ¬ç¼–è¾‘å™¨         |  http://tinymce.ax-z.cn/  |
| alertJs          |å¼¹æ¡†æ’ä»¶          |  https://gitee.com/ydq/alertjs
| layui           | æ¨¡å—åŒ–å‰ç«¯UIæ¡†æ¶        | https://www.layui.com/         |


## å¦‚ä½•ä½¿ç”¨ï¼Ÿ

> éœ€è¦æœ‰springCloud alibabaå’ŒspringCloud+springBootçš„åŸºç¡€ï¼ˆæœ€èµ·ç è¦ä¼šå®‰è£…è½¯ä»¶ï¼ï¼ï¼ï¼‰

* å¯åŠ¨NginxæœåŠ¡å™¨,Nginx.confé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š
```text
worker_processes  2;
worker_rlimit_nofile 10240;
events {
    worker_connections  10240;
	
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
	
	server_tokens off;
     client_max_body_size    100m;
    #tcp_nopush     on;
    #keepalive_timeout  0;
     keepalive_timeout  65;
	client_header_buffer_size 4k;
	open_file_cache max=10240 inactive=20s;
	open_file_cache_valid 30s;
	open_file_cache_min_uses 1;
    #gzip  on;
     gzip  on; 
     gzip_http_version 1.1; 
     gzip_vary on; 
     gzip_comp_level 6; 
     gzip_proxied any; 
     gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/x-httpd-php image/jpeg image/gif image/png; 
     gzip_buffers 16 8k; 
     gzip_disable "MSIE [1-6]\.";
	fastcgi_connect_timeout 300;
	fastcgi_send_timeout 300;
	fastcgi_read_timeout 300;
	fastcgi_buffer_size 64k;
	fastcgi_buffers 4 64k;
	fastcgi_busy_buffers_size 128k;
	fastcgi_temp_file_write_size 128k;
	

	upstream cloudYblog.index.cn{
		server localhost:81 weight=1;
	}
	
	
	upstream cloudYblog.admin.cn{
		server localhost:91 weight=1;
	}
	
	
	#cloud-yblogçš„webæ¨¡å—é¦–é¡µ
    server {
        listen       80;
        server_name  localhost;
		

        location / {
            root   html;
            index  index.html index.htm;
			proxy_pass http://cloudYblog.index.cn;
        }      
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    
    }
	
	
	#cloud-yblogçš„adminæ¨¡å—åå°
	 server {
        listen       90;
        server_name  localhost;
		

        location / {
            root   html;
            index  index.html index.htm;
			proxy_pass http://cloudYblog.admin.cn;
        }      
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    
    }	 	
}
```

* æŠŠcloud-yblog-docæ¨¡å—ä¸­çš„å·¥å…·æ”¾åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…ã€‚

* å¯åŠ¨Nacosã€seataã€sentinelã€zipkinã€Nginxã€Redisã€ElasticSearch

* å¯¼å…¥cloud-yblog-docçš„sqlæ–‡ä»¶åˆ°ä½ ä»¬MySQLä¸Š

* æ³¨æ„ï¼šå¦‚éœ€ä½¿ç”¨çˆ¬è™«åŠŸèƒ½ï¼Œåˆ™éœ€è¦å¯¹mysqlåšå‡ºå¦‚ä¸‹é…ç½®ã€‚
* 1.ä¿®æ”¹mysqlçš„é…ç½®æ–‡ä»¶mysql/bin/my.ini, æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š
```text
[client]
default-character-set=utf8mb4
 
[mysql]
default-character-set=utf8mb4
 
[mysqld]
character-set-client-handshake=FALSE
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
init_connect='SET NAMES utf8mb4'
```
* 2.é‡å¯æ•°æ®åº“æœåŠ¡ã€‚ç‚¹å‡»æ­¤ç”µè„‘ï¼Œå³é”®æ‰“å¼€ç®¡ç†ï¼Œç‚¹å‡»æœåŠ¡å’Œåº”ç”¨ç¨‹åºã€ç‚¹å‡»æœåŠ¡ã€æ‰¾åˆ°MYSQLæœåŠ¡
ï¼Œå³é”®é‡æ–°å¯åŠ¨å³å¯
* 3.è¿›å…¥mysqlå‘½ä»¤è¡Œï¼Œè¾“å…¥ALTER TABLE TABLE_NAME CONVERT TO CHARACTER SET utf8mb4;
æŠŠmysqlçš„utf8ç¼–ç åˆ‡æ¢æˆutf8mb4ï¼Œä»¥æ”¯æŒçˆ¬å–çš„emojiè¡¨æƒ…ï¼Œä¸ç„¶é‡åˆ°4å­—èŠ‚çš„å®½å­—ç¬¦å°±ä¼šæ’å…¥å¼‚å¸¸äº†ã€‚

* å¦‚æœæ˜¯è™šæ‹Ÿæœºéƒ¨ç½²æˆ–è€…dockeréƒ¨ç½²çš„è¯ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰ç«¯å£å ç”¨å¹¶æ‰“å¼€æœ¬ç³»ç»Ÿéœ€è¦çš„ç«¯å£ã€‚

* ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦åˆå§‹åŒ–cloud-yblog,åªéœ€è¦æŠŠcloud-yblog-searchæ¨¡å—ä¸­çš„SearchController
çš„loadArticleToElaticSearchæ–¹æ³•çš„æ³¨é‡Šè§£é™¤åè¿è¡Œä¸€æ¬¡å³å¯ï¼Œç„¶åå†æ³¨é‡Šå›å»ã€‚


* è¯„è®ºæ¨¡å—éœ€è¦è‡ªå·±å»https://www.leancloud.cn/ æ³¨å†Œï¼Œè·å–AppIDã€AppKeyï¼Œå¹¶åŠ å…¥åˆ°ä¸‹é¢å¯¹åº”çš„js
```js
new Valine({
        el: '#vcomments',
        appId: 'xxx',
        appKey: 'yyy',
        placeholder: 'è¯·è¾“å…¥å†…å®¹',
        pageSize: 3 ,
        recordIP: true,
        avatar:'',
        requiredFields: ['nick']
    });
````




### å›¾ç‰‡æ¼”ç¤º
å‰å°ç•Œé¢ğŸ‘‡
![01.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/01.png)
![02.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/02.png)
![03.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/03.png)
åå°ç•Œé¢ğŸ‘‡
![04.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/04.png)
![05.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/05.png)
![06.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/06.png)
![07.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/07.png)
![08.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/08.png)
![09.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/09.png)
![10.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/10.png)
![11.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/11.png)
![12.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/12.png)
![13.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/13.png)
![14.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/14.png)
![15.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/15.png)
![16.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/16.png)
![17.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/17.png)
![18.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/18.png)
![19.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/19.png)
![22.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/22.png)
ç™»å½•ç•Œé¢ğŸ‘‡
![20.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/20.png)
æ³¨å†Œç•Œé¢ğŸ‘‡
![21.png](https://gitee.com/youzhengjie/cloud-yblog/raw/master/cloud-yblog-doc/images/21.png)